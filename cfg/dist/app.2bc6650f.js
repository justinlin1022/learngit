(window.webpackJsonp=window.webpackJsonp||[]).push([[2],Array(27).concat([function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var i=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("权限列表")])},l=[]},function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var i=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("管理员列表")])},l=[]},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var i=a(27),l=a.n(i),o=a(52),s=a(0);var n=function(e){a(98)},r=Object(s.a)(l.a,o.a,o.b,!1,n,null,null);t.default=r.exports},function(e,t,a){"use strict";var i=a(28),l=a.n(i),o=a(53),s=a(0);var n=function(e){a(100)},r=Object(s.a)(l.a,o.a,o.b,!1,n,null,null);t.default=r.exports},,,,,,function(e,t,a){"use strict";a.r(t);var i=a(2),l=a(86),o=a.n(l),s=(a(146),a(144),a(139),{data:()=>({text:"App"}),beforeCreate(){console.log("test")},created(){},beforeMount(){},mounted(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){}}),n=a(0);var r=function(e){a(142)},d=Object(n.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},[],!1,r,"data-v-4d170b9e",null).exports,c=a(29),u=a(85);var m=function(e){a(138)},h=Object(n.a)({},function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("home")])},[],!1,m,null,null).exports;var p=function(e){a(136)},f=Object(n.a)({},function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("notfound")])},[],!1,p,"data-v-d2776422",null).exports,g=a(84),v=a.n(g),b=a(83),_=a.n(b);function y(e){if("object"!=typeof e)return!1;let t="";for(let a in e){let i=void 0!=e[a]?e[a]:"";t+="&"+a+"="+encodeURIComponent(i)}return t?t.substring(1):""}var x=function({method:e="get",url:t,data:a}){return new Promise((i,l)=>{let o={};"post"===e?o={method:"post",url:t,data:_.a.stringify(a)}:(y(a)&&(t+=(t.indexOf("?")<0?"?":"&")+y(a)),o={method:"get",url:t}),v()(o).then(e=>{console.log("res: ",e),i(e)}).catch(e=>{console.log("err: ",e),l(e)})})},w={data:()=>({loginUrl:`${window.base_url}/login`,form:{name:"",password:""},rules:{}}),methods:{handleLogin(){let e={name:this.form.name,password:this.form.password};x.post(this.loginUrl,e).then(e=>{200===e.status&&e.data&&-1!==e.data.retcode?(this.$message.success("登录成功"),this.$router.push("/admin")):this.$message.warning("登录失败，请重新登录")}).catch(e=>{console.log("fail",e),this.$message.error("登录失败，请稍后再试")})}}};var k=function(e){a(134)},C=Object(n.a)(w,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),e._v(" "),a("el-button",[e._v("申请")])],1)],1)},[],!1,k,"data-v-36da2a2d",null).exports,$={data:()=>({user:{name:""}}),created(){this.getUserName()},methods:{getUserName(){window._user&&window._user.name&&(this.user=window._user)},logout(){this.$router.replace("/login")}}};var L=function(e){a(110)},I=Object(n.a)($,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("a",{staticClass:"logo",attrs:{href:""}},[e._v("内容管理平台")]),e._v(" "),a("nav",{staticClass:"navbar"},[a("div",{staticClass:"navbar-custom-menu"},[a("span",{staticClass:"txt"},[e._v("您好，"+e._s(e.user.name))]),e._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:e.logout}},[e._v("退出")])])])])},[],!1,L,"data-v-4798a470",null).exports,T={mounted(){},methods:{handleOpen(){},handleClose(){}}};var D=function(e){a(108)},M={data:()=>({tableData:Array(20).fill({date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"})}),components:{"b-menu":Object(n.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{staticClass:"main-sidebar"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#409eff","unique-opened":"",router:""},on:{open:e.handleOpen,close:e.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("配置管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"configlist"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("配置页面")])])],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("页面管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"list"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("基础模板")])])],2),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("管理员管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"manageList"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理员列表")])]),e._v(" "),a("el-menu-item",{attrs:{index:"rightList"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("权限配置")])])],2)],1)],1)},[],!1,D,"data-v-4a598b46",null).exports,"b-header":I}};var z=function(e){a(112)},S=Object(n.a)(M,function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("b-header"),this._v(" "),t("b-menu"),this._v(" "),t("main",{staticClass:"main-content"},[t("router-view")],1)],1)},[],!1,z,"data-v-d204a676",null).exports,A={data:()=>({listUrl:`${window.base_url}/config/configList`,search:{jz_id:{value:"",operator:"="},username:{value:"",operator:"="}},tableData:[],pagination:{total:0,per_page:10,from:1,to:0,current_page:1},loading:!0}),mounted(){this.fetchItems()},methods:{handleEdit(e,t){let a=t.id;this.$router.push(`configmodify/${a}`)},handleDelete(e,t){},handleSizeChange(e){this.pagination.per_page=e,this.fetchItems(this.pagination.current_page)},handleCurrentChange(e){this.fetchItems(e)},handleSearch(){},handleAddPage(){this.$router.push("/admin/configmodify")},fetchItems(e){x({url:this.listUrl,data:{}}).then(e=>{if(console.log("res: ",e),this.loading=!1,200===e.status&&e.data&&0===e.data.retcode){let t=e.data.data.data;this.tableData=t,console.log(this.tableData)}}).catch(e=>{console.log("err: ",e)})}}};var j=function(e){a(106)},N=Object(n.a)(A,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",{staticClass:"mb20",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入卷宗ID"},model:{value:e.search.jz_id.value,callback:function(t){e.$set(e.search.jz_id,"value",t)},expression:"search.jz_id.value"}},[a("template",{slot:"prepend"},[e._v("卷宗ID")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入账号ID"},model:{value:e.search.username.value,callback:function(t){e.$set(e.search.username,"value",t)},expression:"search.username.value"}},[a("template",{slot:"prepend"},[e._v("账号ID")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddPage}},[e._v("新建页面")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"host",label:"host",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"用户名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"databaseName",label:"数据库名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName",label:"表名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nav_name",label:"导航名"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{offset:18}},[a("el-pagination",{attrs:{"current-page":e.pagination.current_page,"page-sizes":[10,20,40],"page-size":e.pagination.per_page,layout:"total, sizes, prev, pager, next",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},[],!1,j,"data-v-cfefbe52",null).exports;var E={props:{field:{type:Object,default:{}}},methods:{removeOption(e){if(!(this.field.options.length<=1)){var t=this.field.options.indexOf(e);-1!==t&&this.field.options.splice(t,1),this.$forceUpdate()}},addOption(){this.field.options.push({label:"",value:""}),this.$forceUpdate()},handleTypeChange(e){"select"!==e?delete this.field.options:(this.field.options=[],this.field.options.push({label:"",value:""}))},handleSearchChange(e){console.log("newval: ",e)}}};var O=function(e){a(102)},P=Object(n.a)(E,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"form-wrapper line"},[a("el-form",{ref:e.field.name,attrs:{model:e.field,"label-width":"130px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.field.name}},[a("el-input",{attrs:{placeholder:"请输入字段中文名"},model:{value:e.field.label,callback:function(t){e.$set(e.field,"label",t)},expression:"field.label"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"字段类型"}},[a("el-select",{attrs:{placeholder:"请选择字段类型"},on:{change:e.handleTypeChange},model:{value:e.field.type,callback:function(t){e.$set(e.field,"type",t)},expression:"field.type"}},[a("el-option",{attrs:{label:"输入框",value:"text"}}),e._v(" "),a("el-option",{attrs:{label:"下拉单选框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选按钮",value:"switch"}}),e._v(" "),a("el-option",{attrs:{label:"日期选择器",value:"datePicker"}}),e._v(" "),a("el-option",{attrs:{label:"长文本",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"富文本",value:"editor"}}),e._v(" "),a("el-option",{attrs:{label:"上传",value:"upload"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"校验类型"}},[a("el-select",{attrs:{placeholder:"请选择校验类型"},model:{value:e.field.checkType,callback:function(t){e.$set(e.field,"checkType",t)},expression:"field.checkType"}},[a("el-option",{attrs:{label:"无",value:"none"}}),e._v(" "),a("el-option",{attrs:{label:"手机号",value:"mobile"}}),e._v(" "),a("el-option",{attrs:{label:"身份证号",value:"idcard"}})],1)],1)],1),e._v(" "),"select"===e.field.type?[a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:16}},e._l(e.field.options,function(t,i){return a("el-form-item",{key:i,attrs:{label:"选项"+i}},[a("el-input",{staticClass:"option",attrs:{placeholder:"标签label"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"option.label"}}),e._v(" "),a("el-input",{staticClass:"option",attrs:{placeholder:"值value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}}),e._v(" "),a("el-button",{attrs:{disabled:e.field.options.length<=1},on:{click:function(a){a.preventDefault(),e.removeOption(t)}}},[e._v("删除")])],1)})),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",[a("el-button",{on:{click:e.addOption}},[e._v("新增域名")])],1)],1)],1)]:e._e(),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否为搜索字段"}},[a("el-switch",{on:{change:e.handleSearchChange},model:{value:e.field.isSearchField.value,callback:function(t){e.$set(e.field.isSearchField,"value",t)},expression:"field.isSearchField.value"}}),e._v(" "),e.field.isSearchField.value?[a("el-radio-group",{model:{value:e.field.isSearchField.operator,callback:function(t){e.$set(e.field.isSearchField,"operator",t)},expression:"field.isSearchField.operator"}},[a("el-radio",{attrs:{label:"="}}),e._v(" "),a("el-radio",{attrs:{label:"likeboth"}})],1)]:e._e()],2)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否为展示字段"}},[a("el-switch",{model:{value:e.field.isListField,callback:function(t){e.$set(e.field,"isListField",t)},expression:"field.isListField"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"提示文字"}},[a("el-input",{model:{value:e.field.placeholder,callback:function(t){e.$set(e.field,"placeholder",t)},expression:"field.placeholder"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-input",{model:{value:e.field.category,callback:function(t){e.$set(e.field,"category",t)},expression:"field.category"}})],1)],1)],2)],1)},[],!1,O,"data-v-0940a134",null).exports,F={props:{id:{type:[String,Number]}},data:()=>({allFieldsUrl:`${window.base_url}/config/allFields`,modifyFieldsUrl:`${window.base_url}/config/modifyFields`,getConfigInfoUrl:`${window.base_url}/config/configInfo`,catListUrl:`${window.base_url}/nav/catList`,form:{db:{host:"localhost",username:"root",password:"kf_test@24.96",database:"cfg",tableName:"t_test"},fields:[],nav_name:"",nav_cat_id:""},navCatList:[],rules:{}}),mounted(){this.id&&this.getConfigInfo()},methods:{getConfigInfo(){x({url:this.getConfigInfoUrl,data:{id:this.id}}).then(e=>{if(200===e.status&&e.data&&0===e.data.retcode){let t=e.data.data[0];try{this.form=t,this.form.fields=JSON.parse(t.fields)}catch(e){console.log("getConfigInfo error: ",e)}}}).catch(e=>{console.log("err: ".err)})},getCatList(){x({method:"get",url:this.catListUrl}).then(e=>{if(200===e.status&&e.data&&0===e.data.retcode){let t=e.data.data;this.navCatList=t,console.log("navCatList: ",this.navCatList)}}).catch(e=>{console.log("err: ".err)})},handleConnect(){x({method:"post",url:this.allFieldsUrl,data:this.form}).then(e=>{if(200===e.status&&e.data&&-1!==e.data.retcode){this.$message.success("连接成功");let t=e.data.data;t.length&&(this.form.fields=[],t.forEach(e=>{let t={};t.name=e,t.isSearchField={},this.form.fields.push(t)}),console.log("this.form: ",this.form))}else this.$message.warning("连接失败，请重新连接")}).catch(e=>{console.log("allFieldsUrl fail",e),this.$message.error("连接失败，请稍后再试")})},handleCreateFields(){let e={};Object.keys(this.form).forEach(t=>{e[t]=this.form[t]}),this.id&&(e.id=this.id),e.fields=this.form.fields,console.log("data: ",e),x({method:"post",url:this.modifyFieldsUrl,data:e}).then(e=>{200===e.status&&e.data&&0===e.data.retcode?(this.$message.success("生成页面字段成功"),this.$router.replace("/admin/configlist")):this.$message.warning("生成页面字段失败，请重新生成")}).catch(e=>{console.log("modifyFieldsUrl error: ",e),this.$message.error("连接失败，请稍后再试")})}},components:{field:P}};var U=function(e){a(104)},B=Object(n.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-row",{staticClass:"title"},[e._v("数据库信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库主机ip"}},[a("el-input",{model:{value:e.form.db.host,callback:function(t){e.$set(e.form.db,"host",t)},expression:"form.db.host"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库用户名"}},[a("el-input",{model:{value:e.form.db.username,callback:function(t){e.$set(e.form.db,"username",t)},expression:"form.db.username"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库密码"}},[a("el-input",{model:{value:e.form.db.password,callback:function(t){e.$set(e.form.db,"password",t)},expression:"form.db.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库名"}},[a("el-input",{model:{value:e.form.db.database,callback:function(t){e.$set(e.form.db,"database",t)},expression:"form.db.database"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"数据库表名"}},[a("el-input",{model:{value:e.form.db.tableName,callback:function(t){e.$set(e.form.db,"tableName",t)},expression:"form.db.tableName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConnect}},[e._v("点击连接")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"title"},[e._v("导航信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"页面导航名称"}},[a("el-input",{model:{value:e.form.nav_name,callback:function(t){e.$set(e.form,"nav_name",t)},expression:"form.nav_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"页面所属分类"}},[a("el-select",{attrs:{placeholder:"请选择页面所属分类"},model:{value:e.form.nav_cat_id,callback:function(t){e.$set(e.form,"nav_cat_id",t)},expression:"form.nav_cat_id"}},e._l(e.navCatList,function(t){return a("el-option",{key:e.index,attrs:{label:t.cat_name,value:t.id}})}))],1)],1)],1)],1),e._v(" "),e.form.fields.length?[a("el-row",{staticClass:"title"},[e._v("字段信息")]),e._v(" "),e._l(e.form.fields,function(t){return e.form.fields.length&&!t.isDefaultField?[a("field",{attrs:{field:t}})]:e._e()}),e._v(" "),a("el-col",{attrs:{span:8,offset:20}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateFields}},[e._v("生成页面字段")])],1)]:e._e()],2)},[],!1,U,"data-v-4ebbaf18",null).exports,R=a(82),V=a(81);const Z={title:"上门卷宗",route:{name:"listConfig",path:"/admin/listConfig",modifyName:"modifyConfig",modifyPath:"/admin/modify/"},itemsUrl:`${window.base_url}/common/getList/visit`,itemUrl:`${window.base_url}/common/getItem/visit`,modifyUrl:`${window.base_url}/common/modifyItem/visit`,deleteUrl:`${window.base_url}/common/deleteItem/visit`,searchConfig:[{id:"2",title:"输入框类型",name:"jz_id",isAutocomplete:!1,ph:"请输入卷宗ID",isMust:!1,type:"text",value:{jz_id:{value:"",operator:"="}}},{id:"5",title:"单选框类型",name:"planType",isAutocomplete:!1,ph:"请选择",isMust:!1,type:"radio",value:{planType:{value:"",operator:"="}},option:[{label:"维持原判",value:"维持原判"},{label:"申请解冻",value:"申请解冻"},{label:"申请解封",value:"申请解封"}]},{id:"1",title:"最后修改人",name:"update_user",isAutocomplete:!0,ph:"请选择",isMust:!1,type:"radio",value:{update_user:{value:"",operator:"="}}},{id:"4",title:"最后修改时间",name:"create_time",isAutocomplete:!1,ph:"选择日期范围",isMust:!1,type:"daterange",value:{create_time:{value:{sdate:"",edate:""},operator:"range"}}}],tableConfig:[{id:"3",title:"来访用户姓名",name:"visitname",width:120},{id:"3",title:"问题帐号",name:"account",width:150},{id:"5",title:"最后修改人",name:"update_user",width:120},{id:"6",title:"最后修改时间",name:"update_time",width:120}],modifyConfig:{categorys:["上门基础信息","处理过程信息","导流公众号信息","某某信息","结论信息"],elemts:[{id:"1",title:"来访用户手机",name:"mobile",ph:"",isMust:!1,type:"text",checkType:"mobile",category:"上门基础信息",width:8,value:""},{id:"2",title:"用户问题账号",name:"account",ph:"",isMust:!0,type:"multiinput",category:"上门基础信息",width:17,value:[{value:""}]},{id:"3",title:"性别",name:"sex",ph:"",isMust:!1,type:"selectradio",category:"上门基础信息",width:8,value:"",options:[{label:"男",value:"男"},{label:"女",value:"女"}]},{id:"4",title:"证件号码",name:"idcard",ph:"",isMust:!1,type:"text",checkType:"idcard",category:"上门基础信息",width:8,value:""},{id:"5",title:"工单类型",name:"orderType",ph:"",isMust:!1,type:"selectradio",category:"处理过程信息",width:8,value:"",options:[{label:"咨询",value:"咨询"},{label:"投诉问题",value:"投诉问题"},{label:"寻求合作",value:"寻求合作"},{label:"司法流程",value:"司法流程"}]},{id:"6",title:"相关产品",name:"product",ph:"",isMust:!1,type:"cascader",category:"处理过程信息",width:12,value:{bg_id:"",service_id:"",service_zh:""}},{id:"7",title:"问题归档",name:"archive",ph:"",isMust:!1,type:"cascader",category:"处理过程信息",width:12,value:{archive_path:"",first_dir_code:"",second_dir_code:""}},{id:"8",title:"问题描述",name:"description",ph:"",isMust:!1,type:"textarea",category:"处理过程信息",width:16,value:""},{id:"9",title:"是否产品问题",name:"productProblem",ph:"",isMust:!1,type:"selectradio",category:"结论信息",width:8,value:"",options:[{label:"是",value:"是"},{label:"否",value:"否"}]},{id:"10",title:"备注",name:"remark",ph:"",isMust:!1,type:"textarea",category:"结论信息",width:24,value:""},{id:"11",title:"编辑器",name:"editor",ph:"",isMust:!1,type:"editor",category:"结论信息",width:24,value:[]},{id:"12",title:"证据截图",name:"proof_photo",ph:"",isMust:!1,type:"upload",category:"结论信息",width:24,value:[],uploadedData:[]},{id:"13",title:"证据截图1",name:"proof_photo1",ph:"",isMust:!1,type:"upload",category:"结论信息",width:24,value:[],uploadedData:[]},{id:"1",title:"公众号列表",name:"gzhlist",title:"公众号",category:"导流公众号信息",type:"table",span:24,value:[],tableColumns:[{id:"1",title:"公众号uin",name:"gzh_username",width:220},{id:"1",title:"公众号uin",name:"gzh_username",width:220},{id:"2",title:"账号名称",name:"gzh_account",width:200},{id:"3",title:"主体名称",name:"gzh_organization",width:200},{id:"4",title:"一致性",name:"gzh_match",width:200}],dialogElemts:[{id:"5",title:"id",name:"id",ph:"",isMust:!1,type:"text",width:6,noRender:!0,value:""},{id:"1",title:"公众号uin",name:"gzh_username",ph:"",isMust:!0,type:"text",width:6,value:""},{id:"2",title:"账号名称",name:"gzh_account",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"3",title:"主体名称",name:"gzh_organization",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"3",title:"主体名称",name:"gzh_organization",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"3",title:"主体名称",name:"gzh_organization",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"1",title:"一致性",name:"gzh_match",ph:"",isMust:!1,type:"selectradio",width:6,value:"",options:[{label:"与商户号主体一致",value:"与商户号主体一致"},{label:"与商户号主体不一致",value:"与商户号主体不一致"}]}]},{id:"2",title:"某某列表",name:"moumoulist",title:"某某",category:"某某信息",type:"table",span:24,value:[],tableColumns:[{id:"1",title:"公众号1",name:"gzh_username1",width:220},{id:"2",title:"账号名称1",name:"gzh_account1",width:200},{id:"3",title:"主体名称1",name:"gzh_organization1",width:200},{id:"4",title:"一致性1",name:"gzh_match1",width:200}],dialogElemts:[{id:"1",title:"id",name:"id",ph:"",isMust:!1,type:"text",width:6,noRender:!0,value:""},{id:"1",title:"公众号uin1",name:"gzh_username1",ph:"",isMust:!0,type:"text",width:6,value:""},{id:"2",title:"账号名称1",name:"gzh_account1",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"3",title:"主体名称1",name:"gzh_organization1",ph:"",isMust:!1,type:"text",width:6,value:""},{id:"4",title:"一致性1",name:"gzh_match1",ph:"",isMust:!1,type:"selectradio",width:6,value:"",options:[{label:"与商户号主体一致",value:"与商户号主体一致"},{label:"与商户号主体不一致",value:"与商户号主体不一致"}]}]}]}};var H={data:()=>({notAccess:!1,config:Z,searchelemt:[],tableelemt:[],items:[],item:{},addtime_range:["",""],pagination:{total:0,per_page:10,from:1,to:0,current_page:1},selectedOptions:[]}),mounted(){this._initSearchElemt(),this.fetchItems(this.pagination.current_page)},watch:{addtime_range(e,t){for(let t in this.searchelemt){let a=this.searchelemt[t];"daterange"==this.searchelemt[t].type&&(this.searchelemt[t].value[a.name].value.sdate=this._formatDate(e[0]),this.searchelemt[t].value[a.name].value.edate=this._formatDate(e[1]),"1970-1-1"==this.searchelemt[t].value[a.name].value.sdate&&"1970-1-1"==this.searchelemt[t].value[a.name].value.edate&&(this.searchelemt[t].value[a.name].value.sdate="",this.searchelemt[t].value[a.name].value.edate=""))}},$route(e){e.name==this.config.route.name&&this.fetchItems(this.pagination.current_page)}},computed:{pickerOptions1(){for(let e in this.searchelemt)if("daterange"==this.searchelemt[e].type)return{shortcuts:[{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{_initSearchElemt(){let e=[];if(this.config.searchConfig.length)for(let t of this.config.searchConfig)"text"==t.type&&e.push(t),"radio"==t.type&&e.push(t),"cascader"==t.type&&e.push(t),"daterange"==t.type&&e.push(t);this.searchelemt=e},handleSearch(){this.fetchItems(this.pagination.current_page)},handleAdd(){let e=this.config.route.modifyPath;this.$router.push({path:e})},handleDelete(e,t){this.$confirm("确定删除该条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let e={};e.id=t.id,x.ajaxGet(this.config.deleteUrl,e,e=>{0==e.body.retcode&&""!=e.body.data?(this.$message("删除成功"),this.fetchItems(this.pagination.current_page)):this.$message.error("删除失败")})}).catch(()=>{})},handleEdit(e,t){let a=this.config.route.modifyPath,i=t.id;this.$router.push({path:a,query:{id:i,tabName:`编辑${this.config.title}`,btn_flag:!0}})},handleDetail(e,t){this.item=t},handleSizeChange(e){this.pagination.per_page=e,this.fetchItems(this.pagination.current_page)},handleCurrentChange(e){this.pagination.current_page=e,this.fetchItems(this.pagination.current_page)},_formatDate(e,t){const a=new Date(e);let i=a.getFullYear()+"-"+this._appendZero(a.getMonth()+1)+"-"+this._appendZero(a.getDate());return"datetime"==t?i+=" "+this._appendZero(a.getHours())+":"+this._appendZero(a.getMinutes())+":"+this._appendZero(a.getSeconds()):"time"==t&&(i=this._appendZero(a.getHours())+":"+this._appendZero(a.getMinutes())+":"+this._appendZero(a.getSeconds())),i},_appendZero:e=>e<10?`0${e}`:e,handleSelectedOptions(e){},fetchItems(e){if(!this.config.itemsUrl)return onsole.log("未设置查询地址(itemsUrl)"),!1;let t={};t.page=e,t.limit=this.pagination.per_page,t.search={};let a={};for(let e in this.searchelemt){a[this.searchelemt[e].name]=this.searchelemt[e].value}for(var i in a){var l=a[i];l[i].value&&(t.search[i]=l[i])}x({url:this.config.itemsUrl,method:"post",data:t}).then(e=>{if(e&&e.body&&"0"==e.body.retcode){this.items=e.body.data.data;for(let t in this.pagination)this.pagination[t]=e.body.data[t];for(let e in this.config.modifyConfig){let t=this.config.modifyConfig[e];if("array"==t.dataType)for(let e in this.items)if(this.items[e][t.name]&&this.items[e][t.name]instanceof Array){let a="";for(let i in this.items[e][t.name])a+=this.items[e][t.name][i].value+", ";let i=a.substr(0,a.length-2);this.items[e][t.name]=i}}e.body.menuRight&&(this.menuRight=e.body.menuRight),e.body.nick&&(this.nick=e.body.nick)}})}},components:{}};var Y=function(e){a(96)},Q=Object(n.a)(H,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",{staticClass:"pb15",attrs:{gutter:24}},[e._l(e.searchelemt,function(t,i){return e.searchelemt.length>0?a("div",{key:i},["radio"==t.type&&0==t.isAutocomplete?a("el-col",{staticClass:"pb15",attrs:{span:6}},[a("div",{staticClass:"el-input el-input-group el-input-group--prepend"},[a("div",{staticClass:"el-input-group__prepend"},[e._v(e._s(t.title))]),e._v(" "),a("el-select",{attrs:{clearable:""},model:{value:t.value[t.name].value,callback:function(a){e.$set(t.value[t.name],"value",a)},expression:"item.value[item.name].value"}},e._l(t.option,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1)]):e._e(),e._v(" "),"cascader"==t.type&&0==t.isAutocomplete?a("el-col",{staticClass:"pb15",attrs:{span:8}},[a("div",{staticClass:"el-input el-input-group el-input-group--prepend"},[a("div",{staticClass:"el-input-group__prepend"},[e._v(e._s(t.title))]),e._v(" "),a("el-cascader",{attrs:{placeholder:t.ph,options:t.options,"change-on-select":"",clearable:""},on:{change:e.handleSelectedOptions},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)]):e._e(),e._v(" "),"text"==t.type?a("el-col",{staticClass:"pb15",attrs:{span:8}},[a("el-input",{attrs:{placeholder:t.ph},model:{value:t.value[t.name].value,callback:function(a){e.$set(t.value[t.name],"value",a)},expression:"item.value[item.name].value"}},[a("template",{slot:"prepend"},[e._v(e._s(t.title))])],2)],1):e._e(),e._v(" "),"daterange"==t.type?a("el-col",{staticClass:"pb15",attrs:{span:8}},[a("div",{staticClass:"el-input el-input-group el-input-group--prepend"},[a("div",{staticClass:"el-input-group__prepend"},[e._v(e._s(t.title))]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",align:"right",placeholder:t.ph,"picker-options":e.pickerOptions1},model:{value:e.addtime_range,callback:function(t){e.addtime_range=t},expression:"addtime_range"}})],1)]):e._e()],1):e._e()}),e._v(" "),a("el-col",{staticClass:"pb15",attrs:{span:8}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],2),e._v(" "),a("el-row",{staticClass:"pb15",attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.items,border:""}},[e._l(e.config.tableConfig,function(e,t){return[a("el-table-column",{attrs:{property:e.name,label:e.title,width:e.width}})]}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],2)],1)],1),e._v(" "),a("el-row",{staticStyle:{padding:"5px 0"},attrs:{gutter:24}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagination.current_page,"page-sizes":[10,20,30,40],"page-size":e.pagination.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)],1)},[],!1,Y,null,null).exports,q={data:()=>({items:[],keyNames:[],defaultValue:[],archiveProps:{value:"id",label:"name"}}),props:{value:{type:Array},type:{type:String,default:"product"},productid:{type:String,default:""},placeholder:{type:String,default:"请选择"},isLast:{type:Boolean,default:!0}},mounted:function(){this.defaultValue=this.value,"product"==this.type?this.fetchBgProductTree():this.fetchLastArchive(this.productid)},watch:{value:function(e,t){this.defaultValue=e},productid:function(e,t){this.fetchLastArchive(this.productid)}},methods:{handleChange(e){let t="";for(let a in this.items)if(this.items[a].value==e[0])for(let i in this.items[a].children)this.items[a].children[i].id==e[1]&&(t=this.items[a].children[i].label);this.$emit("change",e,t)},fetchBgProductTree(){x({url:window.base_url+"admin/common/getBgProductTree/",method:"get",data:{}}).then(e=>{0==e.body.retcode&&(this.items=e.body.data)})},fetchLastArchive(e){x({url:window.base_url+"admin/common/getLastArchiveByProductId/"+e,method:"get",data:{}}).then(e=>{0==e.body.retcode&&(this.items=e.body.data,this.keyNames=e.body.keyNames)})}}},W=Object(n.a)(q,function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{filterable:"",options:e.items,"show-all-levels":!1,placeholder:e.placeholder,"change-on-select":!e.isLast,clearable:"",props:e.archiveProps},on:{change:e.handleChange},model:{value:e.defaultValue,callback:function(t){e.defaultValue=t},expression:"defaultValue"}})},[],!1,null,null,null).exports;i.default.directive("drag-and-drop",{bind:function(e,t,a){let i=0,l=0,o=0,s=0;e.addEventListener("dragstart",function(e){i=event.clientX,l=event.clientY,o=e.target.offsetLeft,s=e.target.offsetTop},!1),e.addEventListener("dragenter",function(e){e.preventDefault()},!1),e.addEventListener("dragover",function(e){e.preventDefault()},!1),e.addEventListener("drag",function(e){e.preventDefault();e.target.offsetTop,document.body.scrollTop,e.target.offsetLeft;let t=event.clientX,a=event.clientY;e.target.style.top=a-l+s+"px",e.target.style.left=t-i+o+"px"},!1),e.addEventListener("dragleave",function(){},!1),e.addEventListener("dragend",function(e){e.preventDefault();e.clientX,e.clientY;let t=event.clientX,a=event.clientY;e.target.style.top=a-l+s+"px",e.target.style.left=t-i+o+"px"},!1),e.addEventListener("drop",function(e){e.preventDefault()},!1)},update:function(e,t){},unbind:function(e){e.classList.remove("dragging","drag-over","drag-enter"),e.removeAttribute("draggable")}});var G={props:{images:{type:Array,default:[],required:!0},showLightBox:{type:Boolean,default:!1},startAt:{type:Number,default:0},nThumbs:{type:Number,default:7},showThumbs:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!1},autoPlayTime:{type:Number,default:3e3},fullScreen:{type:Boolean,default:!0}},data(){return{select:this.startAt,thumbSelect:this.startAt,lightBoxOn:this.showLightBox,countImages:this.images.length,displayThumbs:this.images.slice(0,this.nThumbs),timer:null,imageList:[],beginThumbIndex:0,isToLarge:!0,style_currImg:{top:0,left:0}}},mounted(){this.imageList=this.images,this.imageList.length||(this.imageList=[{src:"",thumb:"",caption:""}]),void 0!==document&&(document.onkeydown=(e=>{37===e.keyCode&&this.previousImage(),39===e.keyCode&&this.nextImage(),27===e.keyCode&&this.closeLightBox()})),this.autoPlay&&(this.timer=setInterval(()=>{this.nextImage()},this.autoPlayTime))},watch:{images(e,t){this.countImages=e.length,e.length>0&&(this.imageList=e,this.displayThumbs=e.slice(0,this.nThumbs))},select(){let e=Math.floor(this.nThumbs/2),t=1-this.nThumbs%2;return this.select<=e?(this.$set(this,"beginThumbIndex",0),this.$set(this,"thumbSelect",this.select),void this.$set(this,"displayThumbs",this.imageList.slice(0,this.nThumbs))):this.select>=this.countImages-e?(this.$set(this,"beginThumbIndex",this.countImages-this.nThumbs),this.$set(this,"thumbSelect",this.nThumbs-(this.countImages-this.select)),void this.$set(this,"displayThumbs",this.imageList.slice(-this.nThumbs))):(this.$set(this,"beginThumbIndex",this.select-e+t),this.$set(this,"thumbSelect",e-t),this.$set(this,"displayThumbs",this.imageList.slice(this.select-e+t,this.select+e+1)),void this.setImgPosition())}},methods:{handleImgSize(){this.isToLarge=!this.isToLarge,this.isToLarge?this.setImgPosition(!1):this.setImgPosition(!0)},showImage(e){this.$set(this,"lightBoxOn",!0),this.$set(this,"select",e),this.isToLarge=!0,this.setImgPosition()},closeLightBox(){this.$set(this,"lightBoxOn",!1),this.isToLarge},nextImage(){this.isToLarge=!0,this.$set(this,"select",(this.select+1)%this.countImages)},previousImage(){this.isToLarge=!0,this.$set(this,"select",(this.select-1+this.countImages)%this.countImages)},setImgPosition(e){this.$nextTick(()=>{let t=new Image;t.src=this.$refs.currImg.src;let a=t.width,i=t.height;t=null;const l=document.body.clientWidth,o=window.innerHeight,s=e?l:.8*l,n=e?0:.2*l;let r=(o-i)/2,d=(l-a)/2;r<=0&&d<=0?(i*=s/a,d=n/2,r=e?0:(o-i)/2):d<=0?(r=(o-(i*=s/a))/2,d=n/2):r<=0&&(d=(l-a)/2),e?this.$refs.currImg.style.maxWidth="none":(this.$refs.currImg.style.width="none",this.$refs.currImg.style.height="none",this.$refs.currImg.style.maxWidth="80%"),this.$refs.currImg.style.top=(r<0?0:r)+"px",this.$refs.currImg.style.left=(d<0?0:d)+"px"})}}};var J=function(e){a(92)},X=Object(n.a)(G,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.images&&e.images.length>0?a("div",{directives:[{name:"show",rawName:"v-show",value:e.lightBoxOn,expression:"lightBoxOn"}],staticClass:"vue-lb-container"},[a("div",{staticClass:"vue-lb-header"},[a("span"),e._v(" "),a("button",{staticClass:"vue-lb-button-close",attrs:{type:"button",title:"Close (Esc)"},on:{click:e.closeLightBox}},[e._m(0)])]),e._v(" "),a("div",{staticClass:"vue-lb-content"},[a("div",{staticClass:"vue-lb-figure"},[a("img",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop"}],ref:"currImg",staticClass:"vue-lb-modal-image",attrs:{src:e.images[e.select].src}}),e._v(" "),e.images[e.select].caption?a("div",{staticClass:"vue-lb-info",domProps:{innerHTML:e._s(e.images[e.select].caption)}}):e._e(),e._v(" "),a("div",{staticClass:"vue-lb-footer"},[a("div",{staticClass:"vue-lb-footer-info"}),e._v(" "),a("div",{staticClass:"vue-lb-footer-count"},[e._v("\r\n          "+e._s(e.select+1)+"/"+e._s(e.countImages)+"\r\n        ")])])])]),e._v(" "),e.showThumbs?a("div",{staticClass:"vue-lb-thumbnail"},[a("button",{staticClass:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",attrs:{type:"button",title:"Previous"},on:{click:e.previousImage}},[a("span",[a("svg",{attrs:{fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"}},[a("path",{attrs:{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"}})])])]),e._v(" "),e._l(e.displayThumbs,function(t,i){return a("div",{key:t.src+i,class:"vue-lb-modal-thumbnail"+(e.thumbSelect===i?"-active":""),style:"background-image: url('"+t.thumb+"')",on:{click:function(t){e.showImage(i+e.beginThumbIndex)}}})}),e._v(" "),a("button",{staticClass:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",attrs:{type:"button",title:"Next"},on:{click:e.nextImage}},[a("span",[a("svg",{attrs:{fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"}},[a("path",{attrs:{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"}})])])]),e._v(" "),1==e.isToLarge?a("svg",{staticClass:"cus_button set_large svg-icon",attrs:{"data-v-3e7895ba":"","aria-hidden":"true"},on:{click:e.handleImgSize}},[a("use",{attrs:{"data-v-3e7895ba":"","xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#icon-quanping"}})]):e._e(),e._v(" "),0==e.isToLarge?a("svg",{staticClass:"cus_button set_large svg-icon",attrs:{"aria-hidden":"true"},on:{click:e.handleImgSize}},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#icon-suoping"}})]):e._e()],2):e._e()]):e._e()},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("img",{attrs:{src:"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTZweCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiPgogIDxnPgogICAgPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTI4Ljk0MSwzMS43ODZMMC42MTMsNjAuMTE0Yy0wLjc4NywwLjc4Ny0wLjc4NywyLjA2MiwwLDIuODQ5YzAuMzkzLDAuMzk0LDAuOTA5LDAuNTksMS40MjQsMC41OSAgIGMwLjUxNiwwLDEuMDMxLTAuMTk2LDEuNDI0LTAuNTlsMjguNTQxLTI4LjU0MWwyOC41NDEsMjguNTQxYzAuMzk0LDAuMzk0LDAuOTA5LDAuNTksMS40MjQsMC41OWMwLjUxNSwwLDEuMDMxLTAuMTk2LDEuNDI0LTAuNTkgICBjMC43ODctMC43ODcsMC43ODctMi4wNjIsMC0yLjg0OUwzNS4wNjQsMzEuNzg2TDYzLjQxLDMuNDM4YzAuNzg3LTAuNzg3LDAuNzg3LTIuMDYyLDAtMi44NDljLTAuNzg3LTAuNzg2LTIuMDYyLTAuNzg2LTIuODQ4LDAgICBMMzIuMDAzLDI5LjE1TDMuNDQxLDAuNTljLTAuNzg3LTAuNzg2LTIuMDYxLTAuNzg2LTIuODQ4LDBjLTAuNzg3LDAuNzg3LTAuNzg3LDIuMDYyLDAsMi44NDlMMjguOTQxLDMxLjc4NnoiLz4KICA8L2c+Cjwvc3ZnPgo="}})])}],!1,J,"data-v-712bc5c7",null).exports,K={data:()=>({config:Z,elemts:[],form:{},dialogVisible:!1,uploadHeader:{csrf_token_key:""},fileListData:[],uploadPicUrl:window.base_url+"admin/imageUpload/upload/",delImageUrl:window.base_url+"admin/Dataclear_common/deleteImageJson/merchant/proof_photo/",lightBoxImgs:[]}),props:{item:{type:Object,default:{}},value:{type:Boolean,default:!1},title:{type:String,default:"编辑信息"},tableListConfig:{type:Object,default:[]}},mounted(){},watch:{value(e,t){this.dialogVisible=e,e?(this._initConfigElemt(),this._initConfigForm(),this._setFormVal(this.item)):this.handleClosed()}},methods:{_initConfigElemt(){let e=this.tableListConfig.dialogElemts;if(e&&e.length)for(let t=1;t<=e.length;++t)for(let a of e)t==a.id&&this.elemts.push(a)},_initConfigForm(){let e={},t=this.tableListConfig.dialogElemts;if(t&&t.length)for(let a of t)e[a.name]=a.value,"proof_photo"==a.name&&(a.value=[],this.fileListData=a.value);this.form=e},_setFormVal(e){for(let t in this.form)this.form[t]=e[t];if(this.form.proof_photo&&this.form.proof_photo.length){this.fileListData=[],this.lightBoxImgs=[];for(let e in this.form.proof_photo){const t=`${window.base_url}admin/accessFile/output_image/${this.form.proof_photo[e]}`;this.lightBoxImgs.push({src:t,thumb:t,caption:""}),this.fileListData.push({name:this.form.proof_photo[e],url:t})}}},handleMixAdd(e,t){if("text"==t)this.form[e].push({value:""});else if("inputSelect"==t){let t={};for(let a in this.form[e][0])t[a]="";this.form[e].push(t)}},handleMixDelete(e,t){var a=this.form[t].indexOf(e);this.form[t].length>=2&&-1!==a&&this.form[t].splice(a,1)},handleSelectChange(e){},handleCancel(){this.handleClosed()},handleClosed(){this._initConfigForm(),this.elemts=[],this.$emit("close")},handleSubmit(){this.$refs.rulesForm.validate(e=>{if(!e)return console.log("=========验证不通过==========="),!1;{let e={};this.form.id&&(e.id=this.form.id),window._token&&(e.csrf_token_key=window._token.value);for(let e in this.tableListConfig.dialogElemts){let t=this.tableListConfig.dialogElemts[e];"date"==t.type&&this.form[t.name]&&(this.form[t.name]=this._dateFormat(this.form[t.name]))}e.field=this.form,console.log(this.form,"=============对话框-提交的form=============="),this.$emit("submit",this.form,this.tableListConfig)}})},handleBeforeUpload(e){return window._token&&(this.uploadHeader.csrf_token_key=window._token.value),!0},handlePictureCardPreview(e){let t=0;for(let a in this.form.proof_photo)this.form.proof_photo[a]==e.name&&(t=a);this.$refs.lightbox.showImage(t)},handlePictureCardRemove(e,t){return this.$confirm("此操作将永久删除该文件,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=0;for(let a in this.form.proof_photo)this.form.proof_photo[a]==e.name&&(t=a);this.form.proof_photo.splice(t,1);let a={};window._token&&(a.csrf_token_key=window._token.value),a.imageKey=t,this.form.id&&(a.id=this.form.id),AjaxApi.ajaxPost(this.delImageUrl,a,e=>{e.body.token&&(window._token=e.body.token),0==e.body.retcode?this.$message("操作成功"):this.$message("操作失败")})}).catch(()=>{this.fileListData=[];for(let e in this.form.proof_photo)this.fileListData.push({name:this.form.proof_photo[e],url:`${window.base_url}admin/accessFile/output_image/${this.form.proof_photo[e]}`})}),!1},handleUploadSuccess(e,t,a){e.token&&(window._token=e.token),0==e.retcode?(this.form.proof_photo||(this.form.proof_photo=[]),this.form.proof_photo.push(e.name),this._setFormVal(this.form),this.$message("上传成功")):this.$message.error("上传失败")},_dateFormat(e){if(e&&"0000-00-00 00:00:00"!=e){let t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;let l=t.getDate();return a+"-"+i+"-"+(l=l<10?"0"+l:l)}return""}},computed:{formRule(){let e={},t=this.tableListConfig.dialogElemts;if(t&&t.length)for(let a of t){if(e[a.name]=[],a.isMust){let t="请输入"+a.title;e[a.name].push({required:!0,message:t,trigger:"blur"})}a.checkType&&("mobile"==a.checkType?e[a.name].push({type:"string",message:"手机号码格式不对",pattern:/^1[34578]\d{9}$/,trigger:"blur"}):"idcard"==a.checkType?e[a.name].push({type:"string",message:"身份证格式不对",pattern:/(^\d{15}$)|(^\d{17}([0-9]|X)$)/,trigger:"blur"}):"number"==a.checkType?e[a.name].push({type:"string",message:"只能输入数字",pattern:/^[0-9]*$/,trigger:"blur"}):"age"==a.checkType?e[a.name].push({type:"string",message:"请输入正确的年龄",pattern:/^\d{1,3}$/,trigger:"blur"}):"numberOrLetter"==a.checkType&&e[a.name].push({type:"string",message:"只能输入数字或字母",pattern:/^[0-9a-zA-Z]*$/,trigger:"blur"})),e[a.name].length||delete e[a.name]}return e}},components:{Lightbox:X}};var ee=function(e){a(90)},te=Object(n.a)(K,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-dialog",{staticClass:"m-dialog",attrs:{title:e.title,"close-on-click-modal":!1,size:"large"},on:{close:e.handleClosed},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("el-form",{ref:"rulesForm",attrs:{model:e.form,rules:e.formRule,"label-width":"130px"}},[e._l(e.elemts,function(t){return e.elemts.length>0?["multiinput"!=t.type||t.noRender?e._e():a("el-col",{staticStyle:{position:"relative"},attrs:{span:t.width}},[e._l(e.form[t.name],function(i,l){return a("el-form-item",{key:l,attrs:{label:t.title,prop:[t.name]+"."+l+".value",rules:{}}},[a("el-input",{model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"arrayItem.value"}}),e._v(" "),a("div",{staticStyle:{position:"absolute",right:"-80px",top:"0"}},[a("el-button",{attrs:{disabled:e.form[t.name].length<=1},on:{click:function(a){a.preventDefault(),e.handleMixDelete(i,t.name)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"-160px",bottom:"22px"},on:{click:function(a){a.preventDefault(),e.handleMixAdd(t.name,"text")}}},[e._v("增加")])],2),e._v(" "),"text"!=t.type||t.noRender?e._e():a("el-col",{attrs:{span:t.width}},[a("el-form-item",{attrs:{label:t.title,prop:t.name}},[a("el-input",{model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"selectradio"!=t.type||t.noRender?e._e():a("el-col",{attrs:{span:t.width}},[a("el-form-item",{attrs:{label:t.title,prop:t.name}},[a("el-select",{attrs:{placeholder:t.ph},on:{change:e.handleSelectChange},model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[elemtItem.name]"}},e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),"date"!=t.type||t.noRender?e._e():a("el-col",{attrs:{span:t.width}},[a("el-form-item",{attrs:{label:t.title,prop:t.name}},[a("el-date-picker",{attrs:{type:"date",placeholder:t.ph},model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"inputSelect"!=t.type||t.noRender?e._e():a("el-col",{staticStyle:{position:"relative"},attrs:{span:t.width}},[e._l(e.form[t.name],function(i,l){return a("div",{staticStyle:{position:"relative"}},[a("el-form-item",{key:l,attrs:{label:t.title,prop:[t.name]+"."+l+".order_num",rules:e.formRule[t.name]}},[a("el-input",{model:{value:i.order_num,callback:function(t){e.$set(i,"order_num",t)},expression:"arraysItem.order_num"}})],1),e._v(" "),a("el-form-item",{staticStyle:{position:"absolute",right:"-230px",top:"0"},attrs:{label:"",prop:[t.name]+"."+l+".order_way",rules:e.formRule[t.name]}},[a("el-select",{attrs:{placeholder:t.ph},model:{value:i.order_way,callback:function(t){e.$set(i,"order_way",t)},expression:"arraysItem.order_way"}},e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticStyle:{position:"absolute",right:"-310px",top:"0"}},[a("el-button",{attrs:{disabled:e.form[t.name].length<=1},on:{click:function(a){a.preventDefault(),e.handleMixDelete(i,t.name)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"-400px",bottom:"22px"},on:{click:function(a){a.preventDefault(),e.handleMixAdd(t.name,"inputSelect")}}},[e._v("增加")])],2),e._v(" "),"textarea"!=t.type||t.noRender?e._e():a("el-col",{attrs:{span:t.width}},[a("el-form-item",{attrs:{label:t.title,prop:t.name}},[a("el-input",{attrs:{type:t.type},model:{value:e.form[t.name],callback:function(a){e.$set(e.form,t.name,a)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"upload"!=t.type||t.noRender?e._e():a("el-col",{attrs:{span:t.width}},[a("el-form-item",{attrs:{label:t.title,prop:t.name}},[a("el-upload",{attrs:{action:e.uploadPicUrl,"list-type":"picture-card",multiple:"",accept:".jpg,.png",name:"upload_file","file-list":e.fileListData,data:e.uploadHeader,"on-preview":e.handlePictureCardPreview,"on-remove":e.handlePictureCardRemove,"before-upload":e.handleBeforeUpload,"on-success":e.handleUploadSuccess}},[a("i",{staticClass:"el-icon-plus m-icon"})]),e._v(" "),a("el-dialog",{attrs:{size:"tiny"}},[a("img",{attrs:{width:"100%",src:"",alt:""}})])],1)],1)]:e._e()})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确定")])],1),e._v(" "),a("Lightbox",{ref:"lightbox",attrs:{images:e.lightBoxImgs}})],1)],1)},[],!1,ee,null,null).exports,ae={data:()=>({config:Z,elemts:[],form:{},product:[],archive:[],dialogTitleText:"",dialogVisible:!1,dialogElemts:{},dialogItem:{},dialogItemIndex:"",uploadHeader:{csrf_token_key:""},uploadPicUrl:window.base_url+"admin/imageUpload/upload/",delImageUrl:window.base_url+"admin/Dataclear_common/deleteImageJson/merchant/proof_photo/",lightBoxImgs:[],uploadingPicFlag:"",editor:"",ueConfig:{toolbars:[["bold","italic","underline","fontsize","removeformat","formatmatch","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","cleardoc","simpleupload","insertimage","inserttable","link","unlink","fullscreen","preview","source","undo","redo"]]}}),mounted(){this._initConfigElemt(),this._initConfigForm(),this.$route.query.btn_flag&&(this._initConfigForm(),this.$route.query.id&&this._fetchItem())},watch:{form(e,t){this.form=e},$route(e){e.name==this.config.route.modifyName&&(this.$route.query.btn_flag&&this._initConfigForm(),this.$route.query.id&&this._fetchItem())}},computed:{formRule(){let e={};for(let t of this.config.modifyConfig.elemts){if(e[t.name]=[],t.isMust){let a="请输入"+t.title;e[t.name].push({required:!0,message:a,trigger:"blur"})}t.checkType&&("mobile"==t.checkType?e[t.name].push({type:"string",message:"手机号码格式不对",pattern:/^1[34578]\d{9}$/,trigger:"blur"}):"idcard"==t.checkType?e[t.name].push({type:"string",message:"身份证格式不对",pattern:/(^\d{15}$)|(^\d{17}([0-9]|X)$)/,trigger:"blur"}):"number"==t.checkType?e[t.name].push({type:"string",message:"只能输入数字",pattern:/^[0-9]*$/,trigger:"blur"}):"age"==t.checkType?e[t.name].push({type:"string",message:"请输入正确的年龄",pattern:/^\d{1,3}$/,trigger:"blur"}):"numberOrLetter"==t.checkType&&e[t.name].push({type:"string",message:"只能输入数字或字母",pattern:/^[0-9a-zA-Z]*$/,trigger:"blur"})),e[t.name].length||delete e[t.name]}return console.log(e,"==========校验规则formRule=========="),e}},methods:{_initConfigElemt(){let e=this.config.modifyConfig.elemts;if(e&&e.length)for(let t=1;t<=e.length;++t)for(let a of e)t==a.id&&this.elemts.push(a);console.log(this.elemts,"==========渲染表单elemts=============")},_initConfigForm(){let e={},t=this.config.modifyConfig.elemts;for(let a of t)if(a.name){if("cascader"==a.type&&"product"==a.name&&(this.product=[]),"cascader"==a.type&&"archive"==a.name&&(this.archive=[]),"editor"==a.type){if(this.editor)return;this.$nextTick(function(){let e="editor_remark";this.$refs.editor.id=e,this.editor=UE.getEditor(e,this.ueConfig);const t=this;this.editor.ready(function(){t.editor.setContent(t.form[a.name])})})}e[a.name]=a.value}this.form=e,console.log(this.form,"===========清空表单form==============")},_setFormVal(e){for(let t in this.form)this.form[t]=e[t],"product"==t&&(this.product[0]=this.form[t].bg_id,this.product[1]=this.form[t].service_id),"archive"==t&&(this.archive[0]=this.form[t].first_dir_code,this.form[t].second_dir_code&&(this.archive[1]=this.form[t].second_dir_code));for(let e of this.config.modifyConfig.elemts){if("upload"==e.type&&this.form[e.name]&&this.form[e.name].length){e.uploadedData=[],this.lightBoxImgs=[];for(let t in this.form[e.name]){const a=`${window.base_url}admin/accessFile/output_image/${this.form[e.name][t]}`;this.lightBoxImgs.push({src:a,thumb:a,caption:""}),e.uploadedData.push({name:this.form[e.name][t],url:a}),console.log(e.uploadedData,"uploadedData")}}"editor"==e.type&&this.$nextTick(function(){if(this.editor){const t=this;this.editor.ready(function(){t.editor.setContent(t.form[e.name])})}})}console.log(this.form,"===========填充表单form==============")},handleMixAdd(e,t){if("text"==t)this.form[e].push({value:""});else if("inputSelect"==t){let t={};for(let a in this.form[e][0])t[a]="";this.form[e].push(t)}},handleMixDelete(e,t){var a=this.form[t].indexOf(e);this.form[t].length>=2&&-1!==a&&this.form[t].splice(a,1)},handleSelectChange(e){},handleProductChange(e,t){let a=t.split(" ");e&&e.length>0?(this.form.product.bg_id=e[0],this.form.product.service_id=e[1],this.form.product.service_zh=a[1]):(this.form.product.bg_id="",this.form.product.service_id="",this.form.product.service_zh="")},handleArchiveChange(e){e&&e.length>0?e[1]?(this.form.archive.first_dir_code=e[0],this.form.archive.second_dir_code=e[1],this.form.archive.archive_path=e[1]):(this.form.archive.first_dir_code=e[0],this.form.archive.archive_path=e[0]):(this.form.archive.first_dir_code="",this.form.archive.second_dir_code="",this.form.archive.archive_path="")},handleTableAdd(e){for(let t of this.config.modifyConfig.elemts)"table"==t.type&&t.category==e&&(this.dialogElemts=t);this.dialogVisible=!0,this.dialogTitleText="添加信息",this.dialogItem={},this.dialogItemIndex=""},handleTableEdit(e,t,a){for(let e of this.config.modifyConfig.elemts)"table"==e.type&&e.category==a&&(this.dialogElemts=e);this.dialogVisible=!0,this.dialogTitleText="编辑信息",this.dialogItem=t,this.dialogItemIndex=e},handleTableDelete(e,t,a){for(let i of this.config.modifyConfig.elemts)"table"==i.type&&i.category==a&&this.$confirm("确定删除该条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let a={};t.id?(a.id=t.id,AjaxApi.ajaxGet(this.config.deleteTableUrl,a,t=>{0==t.body.retcode&&t.body.data?(this.$message("删除成功"),this.form[i.name].splice(e,1)):this.$message.error("删除失败")})):!t.id&&e&&this.form[i.name].splice(e,1)}).catch(()=>{})},handleDialogClosed(){this.dialogVisible=!1},handleDialogSubmit(e,t){if(this.dialogVisible=!1,""!==this.dialogItemIndex)for(let a in e)e[a]||(e[a]=""),this.form[t.name][this.dialogItemIndex][a]=e[a];else{for(let t in e)e[t]||(e[t]="");void 0==this.form[t.name]&&(this.form[t.name]=[]),this.form[t.name].push(e)}},handleSubmit(){this.$refs.rulesForm.validate(e=>{if(!e)return console.log("=========验证不通过==========="),!1;{let e={};this.form.id&&(e.id=this.form.id),window._token&&(e.csrf_token_key=window._token.value);for(let e of this.config.modifyConfig.elemts)"date"==e.type&&this.form[e.name]&&(this.form[e.name]=this._dateFormat(this.form[e.name])),"editor"==e.type&&(this.form[e.name]=this.editor.getContent());e.field=this.form,console.log(this.form,"=============提交的form=============="),AjaxApi.ajaxPost(this.config.modifyUrl,e,e=>{e.body.token&&(window._token=e.body.token),0==e.body.retcode&&e.body.data?(this.$message({message:"添加或修改成功",type:"success"}),this.$router.push({path:this.config.route.path})):this.$message({message:"添加或修改失败",type:"error"})})}})},handlePicClick(e){this.uploadingPicFlag=e},handleBeforeUpload(e){return window._token&&(this.uploadHeader.csrf_token_key=window._token.value),!0},handlePictureCardPreview(e){for(let t of this.config.modifyConfig.elemts)if("upload"==t.type&&t.name==this.uploadingPicFlag){let a=0;for(let i in this.form[t.name])this.form[t.name][i]==e.name&&(a=i);this.$refs.lightbox.showImage(a)}},handlePictureCardRemove(e,t){for(let t of this.config.modifyConfig.elemts)if("upload"==t.type&&t.name==this.uploadingPicFlag)return this.$confirm("此操作将永久删除该文件,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let a=0;for(let i in this.form[t.name])this.form[t.name][i]==e.name&&(a=i);this.form[t.name].splice(a,1),this._setFormVal(this.form);let i={};window._token&&(i.csrf_token_key=window._token.value),i.imageKey=a,this.form.id&&(i.id=this.form.id),AjaxApi.ajaxPost(this.delImageUrl,i,e=>{e.body.token&&(window._token=e.body.token),0==e.body.retcode?this.$message("操作成功"):this.$message("操作失败")})}).catch(()=>{t.uploadedData=[];for(let e in this.form[t.name])t.uploadedData.push({name:this.form[t.name][e],url:`${window.base_url}admin/accessFile/output_image/${this.form[t.name][e]}`})}),!1},handleUploadSuccess(e,t,a){if(e.token&&(window._token=e.token),0==e.retcode){for(let t of this.config.modifyConfig.elemts)"upload"==t.type&&t.name==this.uploadingPicFlag&&(this.form[t.name]||(this.form[t.name]=[]),this.form[t.name].push(e.name));this._setFormVal(this.form),this.$message("上传成功")}else this.$message.error("上传失败")},_fetchItem(){if(this.$route.query.id){this.form.id=this.$route.query.id;var e={};e.id=this.form.id}AjaxApi.ajaxGet(this.config.itemUrl,e,e=>{0==e.body.retcode&&e.body.data&&this._setFormVal(e.body.data)})},_dateFormat(e){if(e&&"0000-00-00 00:00:00"!=e){let t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;let l=t.getDate();return a+"-"+i+"-"+(l=l<10?"0"+l:l)}return""}},components:{archiveCascader:W,modifyDialog:te,Lightbox:X},destroyed(){this.editor&&(this.editor.destroy(),this.editor="")}};var ie=function(e){a(94)},le=Object(n.a)(ae,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",{staticClass:"m-form-wrapper",attrs:{gutter:20}},[a("el-form",{ref:"rulesForm",attrs:{model:e.form,rules:e.formRule,"label-width":"130px"}},[e._l(e.config.modifyConfig.categorys,function(t,i){return a("el-row",{key:i},[a("el-col",{staticClass:"m-title",attrs:{span:24}},[a("span",{staticClass:"m-h3"},[e._v(e._s(t))]),e._v(" "),e._l(e.elemts,function(i){return e.elemts.length>0?["table"==i.type?[t==i.category?a("el-button",{staticStyle:{float:"right","margin-top":"2px"},attrs:{type:"primary"},on:{click:function(a){e.handleTableAdd(t)}}},[e._v("添加")]):e._e()]:e._e()]:e._e()})],2),e._v(" "),e._l(e.elemts,function(i){return e.elemts.length>0?[i.category==t?["multiinput"!=i.type||i.noRender?e._e():a("el-col",{staticStyle:{position:"relative"},attrs:{span:i.width}},[e._l(e.form[i.name],function(t,l){return a("el-form-item",{key:l,attrs:{label:i.title,prop:[i.name]+"."+l+".value",rules:{}}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"arrayItem.value"}}),e._v(" "),a("div",{staticStyle:{position:"absolute",right:"-80px",top:"0"}},[a("el-button",{attrs:{disabled:e.form[i.name].length<=1},on:{click:function(a){a.preventDefault(),e.handleMixDelete(t,i.name)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"-160px",bottom:"22px"},on:{click:function(t){t.preventDefault(),e.handleMixAdd(i.name,"text")}}},[e._v("增加")])],2),e._v(" "),"text"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title,prop:i.name}},[a("el-input",{model:{value:e.form[i.name],callback:function(t){e.$set(e.form,i.name,t)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"selectradio"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title,prop:i.name}},[a("el-select",{attrs:{placeholder:i.ph},on:{change:e.handleSelectChange},model:{value:e.form[i.name],callback:function(t){e.$set(e.form,i.name,t)},expression:"form[elemtItem.name]"}},e._l(i.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),"date"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title,prop:i.name}},[a("el-date-picker",{attrs:{type:"date",placeholder:i.ph},model:{value:e.form[i.name],callback:function(t){e.$set(e.form,i.name,t)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"cascader"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title}},["product"==i.name?a("archiveCascader",{attrs:{type:i.name,placeholder:i.ph,value:e.product},on:{change:e.handleProductChange}}):e._e(),e._v(" "),"archive"==i.name?a("archiveCascader",{attrs:{productid:e.form.product.service_id,isLast:!1,type:i.name,placeholder:i.ph,value:e.archive},on:{change:e.handleArchiveChange}}):e._e()],1)],1),e._v(" "),"inputSelect"!=i.type||i.noRender?e._e():a("el-col",{staticStyle:{position:"relative"},attrs:{span:i.width}},[e._l(e.form[i.name],function(t,l){return a("div",{staticStyle:{position:"relative"}},[a("el-form-item",{key:l,attrs:{label:i.title,prop:[i.name]+"."+l+".order_num",rules:e.formRule[i.name]}},[a("el-input",{model:{value:t.order_num,callback:function(a){e.$set(t,"order_num",a)},expression:"arraysItem.order_num"}})],1),e._v(" "),a("el-form-item",{staticStyle:{position:"absolute",right:"-230px",top:"0"},attrs:{label:"",prop:[i.name]+"."+l+".order_way",rules:e.formRule[i.name]}},[a("el-select",{attrs:{placeholder:i.ph},model:{value:t.order_way,callback:function(a){e.$set(t,"order_way",a)},expression:"arraysItem.order_way"}},e._l(i.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticStyle:{position:"absolute",right:"-310px",top:"0"}},[a("el-button",{attrs:{disabled:e.form[i.name].length<=1},on:{click:function(a){a.preventDefault(),e.handleMixDelete(t,i.name)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"-400px",bottom:"22px"},on:{click:function(t){t.preventDefault(),e.handleMixAdd(i.name,"inputSelect")}}},[e._v("增加")])],2),e._v(" "),"textarea"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title,prop:i.name}},[a("el-input",{attrs:{type:i.type},model:{value:e.form[i.name],callback:function(t){e.$set(e.form,i.name,t)},expression:"form[elemtItem.name]"}})],1)],1),e._v(" "),"upload"!=i.type||i.noRender?e._e():a("el-col",{attrs:{span:i.width}},[a("el-form-item",{attrs:{label:i.title,prop:i.name}},[a("div",{on:{click:function(t){e.handlePicClick(i.name)}}},[a("el-upload",{attrs:{action:e.uploadPicUrl,"list-type":"picture-card",multiple:"",accept:".jpg,.png",name:"upload_file","file-list":i.uploadedData,data:e.uploadHeader,"on-preview":e.handlePictureCardPreview,"on-remove":e.handlePictureCardRemove,"before-upload":e.handleBeforeUpload,"on-success":e.handleUploadSuccess}},[a("i",{staticClass:"el-icon-plus m-icon"})]),e._v(" "),a("el-dialog",{attrs:{size:"tiny"}},[a("img",{attrs:{width:"100%",src:"",alt:""}})])],1)])],1),e._v(" "),"table"!=i.type||i.noRender?e._e():a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:i.width}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form[i.name],border:""}},[e._l(i.tableColumns,function(e){return[a("el-table-column",{attrs:{property:e.name,label:e.title,width:e.width}})]}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleTableEdit(i.$index,i.row,t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleTableDelete(i.$index,i.row,t)}}},[e._v("删除")])]}}])})],2)],1)]:e._e()]:e._e()})],2)}),e._v(" "),a("el-form-item",{attrs:{label:"编辑器"}},[a("div",{ref:"editor",staticClass:"my_editor_content",staticStyle:{height:"200px"}})]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],2)],1),e._v(" "),a("modifyDialog",{attrs:{title:e.dialogTitleText,item:e.dialogItem,tableListConfig:e.dialogElemts},on:{close:e.handleDialogClosed,submit:e.handleDialogSubmit},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}}),e._v(" "),a("Lightbox",{ref:"lightbox",attrs:{images:e.lightBoxImgs}})],1)},[],!1,ie,null,null).exports;let oe=[{path:"/",redirect:"/admin/ConfigList"},{path:"/login",name:"login",component:C},{path:"/admin",name:"admin",component:S,children:[{path:"home",name:"home",component:h},{path:"configList",name:"configList",component:N},{path:"configModify",name:"configModify",component:B},{path:"configModify/:id",name:"configModifyById",component:B,props:!0},{path:"manageList",name:"manageList",component:R.default},{path:"rightList",name:"rightList",component:V.default},{path:"list",name:"list",component:Q},{path:"modify",name:"modify",component:le}]},{path:"*",name:"notfound",component:f}];i.default.use(o.a,{size:"small"}),i.default.use(c.a),i.default.use(u.a);const se=(()=>new c.a({routes:oe}))();console.log("env is: ","production"),new i.default({el:"#app",router:se,render:e=>e(d)})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".m-dialog .el-dialog__body{padding:30px 20px;color:#48576a;font-size:14px}",""])},function(e,t,a){var i=a(89);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("a6fc6894",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".cus_button.set_large[data-v-712bc5c7]{display:inline-block;width:30px;height:30px;position:absolute;right:-70px;color:#fff;cursor:pointer;padding:10px;background:#2f2f2f}.vue-lb-box[data-v-712bc5c7]{width:100%}.vue-lb-container[data-v-712bc5c7]{align-items:center;background-color:rgba(0,0,0,.8);box-sizing:border-box;display:flex;height:100%;justify-content:center;left:0;padding:10px;position:fixed;top:0;width:100%;z-index:9999;-webkit-align-items:center;-moz-box-sizing:border-box;-webkit-justify-content:center;-ms-flex-align:center;-webkit-box-align:center;-ms-flex-pack:center;-webkit-box-pack:center}.vue-lb-content[data-v-712bc5c7]{position:absolute;bottom:2px;background:#2f2f2f}.vue-lb-header[data-v-712bc5c7]{display:flex;justify-content:space-between;height:40px;-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;position:absolute;top:20px;right:20px;z-index:99999}.vue-lb-button-close[data-v-712bc5c7]{background:none;border:none;cursor:pointer;outline:none;position:relative;top:0;vertical-align:bottom;height:40px;margin-right:-10px;padding:10px;width:40px;background:#2f2f2f}.vue-lb-figure[data-v-712bc5c7]{margin:0;display:block;position:relative}img.vue-lb-modal-image[data-v-712bc5c7]{max-width:none;position:fixed;display:inline-block;overflow:hidden;vertical-align:top;cursor:move;top:0;left:25%;height:auto;margin:0 auto;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.vue-lb-info[data-v-712bc5c7]{visibility:initial;position:absolute;bottom:25px;color:#fff;background-color:rgba(0,0,0,.7);height:40px;width:100%;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;text-align:center}.vue-lb-footer[data-v-712bc5c7]{box-sizing:border-box;color:#fff;cursor:auto;display:flex;justify-content:space-between;left:0;line-height:1.3;padding:5px 0;-moz-box-sizing:border-box;-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify}.vue-lb-footer-info[data-v-712bc5c7]{display:block;flex:1 1 0;-webkit-flex:1 1 0;-ms-flex:1 1 0}.vue-lb-footer-count[data-v-712bc5c7]{color:hsla(0,0%,100%,.75);font-size:.85em;padding-left:1em}.vue-lb-thumbnail[data-v-712bc5c7]{bottom:10px;height:60px;padding:5px 50px 0;position:absolute;text-align:center;white-space:nowrap;background:#2f2f2f;border:1px solid #fff;border-radius:25px;-moz-border-radius:25px;opacity:.7}.vue-lb-modal-thumbnail[data-v-712bc5c7]{box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.2)}.vue-lb-modal-thumbnail-active[data-v-712bc5c7],.vue-lb-modal-thumbnail[data-v-712bc5c7]{background-position:50%;background-size:cover;border-radius:2px;cursor:pointer;display:inline-block;height:50px;margin:2px;overflow:hidden;width:50px}.vue-lb-modal-thumbnail-active[data-v-712bc5c7]{box-shadow:inset 0 0 0 2px #fd7802}.vue-lb-thumbnail-arrow[data-v-712bc5c7]{height:54px;width:40px;background:none;border:none;border-radius:4px;cursor:pointer;outline:none;padding:10px;position:absolute;top:50%;-webkit-touch-callout:none;user-select:none;height:50px;margin-top:-25px;width:30px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.vue-lb-thumbnail-left[data-v-712bc5c7]{left:10px}.vue-lb-thumbnail-right[data-v-712bc5c7]{right:10px}.vue-lb-arrow[data-v-712bc5c7]{background:none;border:none;border-radius:4px;cursor:pointer;outline:none;padding:10px;position:absolute;top:50%;-webkit-touch-callout:none;user-select:none;height:120px;margin-top:-60px;width:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.vue-lb-left[data-v-712bc5c7]{left:10px}.vue-lb-right[data-v-712bc5c7]{right:10px}@media (min-width:500px){.vue-lb-thumbnail-arrow[data-v-712bc5c7]{width:40px}}@media (min-width:768px){.vue-lb-arrow[data-v-712bc5c7]{width:70px}}",""])},function(e,t,a){var i=a(91);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("976889ea",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".m-form-wrapper{padding:0 15px}.m-title{height:36px;line-height:36px;font-size:16px;background-color:#ebebeb;margin-bottom:20px}.m-h3{margin-left:10px}.m-el-input__inner{width:120px}.m-icon{margin-left:0!important}.my_editor_content .edui-toolbar{height:25px!important}",""])},function(e,t,a){var i=a(93);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("7a4e7736",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".pb15{padding-bottom:15px}.el-input-group>.el-input__inner{display:block}.el-range-editor--small .el-range-input,.el-range-editor--small .el-range-separator{vertical-align:top}",""])},function(e,t,a){var i=a(95);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("3391c536",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"",""])},function(e,t,a){var i=a(97);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("129ad2b3",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"",""])},function(e,t,a){var i=a(99);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("6b6b9a7c",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".option[data-v-0940a134]{width:auto}.el-radio+.el-radio[data-v-0940a134]{margin-left:15px}.el-radio-group[data-v-0940a134]{margin-left:10px}",""])},function(e,t,a){var i=a(101);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("5b50439e",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".title[data-v-4ebbaf18]{height:40px;line-height:40px;background-color:#e5e5e5;margin:0 10px 20px;padding:0 10px;font-size:16px;border-radius:4px}.form-wrapper[data-v-4ebbaf18]{padding:0 10px}.line[data-v-4ebbaf18]{position:relative;padding:0;margin:0 10px 20px;border-bottom:1px solid #e5e5e5}.line[data-v-4ebbaf18]:last-child{border-bottom:none}",""])},function(e,t,a){var i=a(103);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("186a7974",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".mb20[data-v-cfefbe52]{margin-bottom:20px}",""])},function(e,t,a){var i=a(105);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("14077d07",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".main-sidebar[data-v-4a598b46]{position:fixed;left:0;top:0;bottom:0;padding-top:60px;overflow-y:auto;width:230px;background-color:#545c64}.el-menu[data-v-4a598b46]{border:none}",""])},function(e,t,a){var i=a(107);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("48c54a80",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".header[data-v-4798a470]{position:fixed;top:0;left:0;right:0;height:60px;line-height:60px;overflow:hidden;background-color:#409eff;color:#fff;padding:0 20px;z-index:1}.header .logo[data-v-4798a470]{float:left;color:#fff}.header .navbar[data-v-4798a470]{float:right}.header .navbar a[data-v-4798a470]{color:#fff}.el-header[data-v-4798a470]{background-color:#409eff;color:#fff;width:100%}",""])},function(e,t,a){var i=a(109);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("5ba2de7a",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".main-content[data-v-d204a676]{margin-left:230px;margin-top:60px;padding:10px}.bounce-enter-active[data-v-d204a676]{-webkit-animation:bounce-in-data-v-d204a676 .5s;animation:bounce-in-data-v-d204a676 .5s}.bounce-leave-active[data-v-d204a676]{-webkit-animation:bounce-out-data-v-d204a676 .2s;animation:bounce-out-data-v-d204a676 .2s}@-webkit-keyframes bounce-in-data-v-d204a676{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes bounce-in-data-v-d204a676{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes bounce-out-data-v-d204a676{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(0);transform:scale(0)}}@keyframes bounce-out-data-v-d204a676{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(0);transform:scale(0)}}",""])},function(e,t,a){var i=a(111);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("36163a47",i,!0,{})},,,,,,,,,,,,,,,,,,,,,function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"",""])},function(e,t,a){var i=a(133);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("6a79f7c3",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"",""])},function(e,t,a){var i=a(135);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("1db6d31c",i,!0,{})},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"",""])},function(e,t,a){var i=a(137);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("37e2259b",i,!0,{})},function(e,t){window},function(e,t,a){(e.exports=a(1)(!1)).push([e.i,"body{font-size:14px;color:#333}",""])},function(e,t,a){(t=e.exports=a(1)(!1)).i(a(140),""),t.push([e.i,"",""])},function(e,t,a){var i=a(141);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(3).default)("17c6d7a6",i,!0,{})},,function(e,t,a){}]),[[88,0,1]]]);